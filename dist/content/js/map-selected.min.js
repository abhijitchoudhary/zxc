var locationsJSON=[{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[-74.01123040000004,40.7046866,0]},properties:{name:"75 Broad Street",datacenter:"Metcom",zone:"1"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.00795419999997,40.7432086,0]},properties:{name:"85 10th Avenue",datacenter:"Telehouse",zone:"1"}}]}],routesJSON=[{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00795419999997,40.7432086,0],[-74.01123040000004,40.72,0],[-74.01123040000004,40.7046866,0]]},properties:{name:"85 10th Ave, Telehouse to 75 Broad St, Metcom"}}]}];!function(a){var b=new L.Map("map",{center:[40.7,-74.3],zoom:11,minZoom:8,maxZoom:13,attributionControl:!1});b.dragging.disable(),b.touchZoom.disable(),b.doubleClickZoom.disable(),b.scrollWheelZoom.disable(),b.zoomControl.disable(),b.boxZoom.disable(),b.keyboard.disable(),b.tap&&b.tap.disable(),document.getElementById("map").style.cursor="default";var c=(new L.TileLayer("https://api.mapbox.com/styles/v1/ddcreative/ciwwekdvl004e2qrxzd4vqats/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGRjcmVhdGl2ZSIsImEiOiJjaXU4aWp6dWIwMDgyMnNwZHN0eTN3bGtzIn0.JSbKaBx8Pu9Xtf4YxhT-sQ").addTo(b),L.Icon.extend({options:{iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-8]}})),d=new c({iconUrl:"content/img/ui/marker-icon-2x.png"}),e=(new c({iconUrl:"content/img/ui/marker-zone-a-2x.png"}),new c({iconUrl:"content/img/ui/marker-zone-b-2x.png"}),new c({iconUrl:"content/img/ui/marker-zone-c-2x.png"}),L.geoJson(locationsJSON,{onEachFeature:function(a,b){var c="";a.properties.message&&(c='<span class="marker-message">'+a.properties.message+"</span>"),b.bindPopup("<b>Address:</b> "+a.properties.name+"<br><b>Datacenter:</b> "+a.properties.datacenter+"<br><b>Zone:</b> "+a.properties.zone+"<br>"+c,{autoClose:!1}),b.setIcon(d)}}).addTo(b));e.openPopup();var f=(L.geoJSON(zonesJSON,{style:function(a){switch(a.properties.zone){case"1":return{fillColor:"#2c4498",fillOpacity:.5,color:"#7f7f7f",weight:2};case"2":return{fillColor:"#a5cd39",fillOpacity:.5,color:"#7f7f7f",weight:2};case"3":return{fillColor:"#424242",fillOpacity:.5,color:"#7f7f7f",weight:2}}}}).addTo(b),L.geoJson(zoneLabelJSON,{onEachFeature:function(a,b){var c=L.divIcon({className:"marker--zone-label",iconSize:[40,18],html:a.properties.label});b.setIcon(c)}}).addTo(b)),g=(L.geoJSON(routesJSON,{onEachFeature:function(a,b){b.bindPopup("XX miles",{autoClose:!1})},style:function(a){return{color:"#212121",weight:4}}}).addTo(b),L.geoJson(stateLabelJSON,{onEachFeature:function(a,b){var c=L.divIcon({className:"marker--state-label",iconSize:[40,18],html:a.properties.label});b.setIcon(c)}}).addTo(b));b.on("zoomend",function(a){var c=b.getZoom();c<10?b.removeLayer(f):b.addLayer(f),c<9?b.removeLayer(g):b.addLayer(g)}),b.fitBounds(e.getBounds())}(jQuery);